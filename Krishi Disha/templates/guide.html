{% extends "base.html" %}
{% block content %}
<style>
  body { background-image: url("{{ url_for('static', filename='images/pexels-freestockpro-1172241.jpg') }}"); background-size:cover; background-position:center; background-attachment:fixed; }
  /* Widen content area only for this page */
  main { max-width: 1200px; }
  body::before { content:""; position:fixed; inset:0; background: linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.35)); z-index:-1; }
  .guide-container { position:relative; max-width: 1100px; margin: 48px auto; padding: 40px; background: rgba(18,22,18,0.62); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); color:#e9f5ea; border-radius: 22px; border:1px solid rgba(255,255,255,0.16); box-shadow: 0 18px 48px rgba(0,0,0,0.55); animation: fadeIn .8s ease-out; }
  .guide-container::before { content:""; position:absolute; inset:-2px; border-radius: 24px; pointer-events:none; background: radial-gradient(1200px 200px at 50% -40%, rgba(255,126,64,0.18), transparent 60%), radial-gradient(800px 140px at 50% 102%, rgba(255,78,80,0.14), transparent 60%); filter: blur(0.2px); }
  .guide-container h2 { text-align:center; margin:0 0 10px; font-size:2.1rem; font-weight:900; color:#ffe0b2; text-shadow:0 2px 12px rgba(0,0,0,0.6); }
  .guide-sub { text-align:center; color:#f8e9f6; opacity:.9; margin:-4px 0 16px; }
  .form { display:grid; grid-template-columns: 1fr 1fr; gap:24px; padding:28px; border-radius:18px; background: linear-gradient(180deg, rgba(253, 236, 248, 0.96), rgba(242, 224, 241, 0.94)); border:1px solid rgba(16,42,26,0.10); box-shadow: 0 14px 32px rgba(0,0,0,0.28); backdrop-filter: blur(6px); max-width: 980px; margin: 0 auto; box-sizing: border-box; }
  .form-group { display:flex; flex-direction:column; }
  .form-group label { font-weight:800; color:#1b5e20; letter-spacing: .2px; }
  .form-group select, .form-group input[type="number"] { margin-top:8px; padding:16px 16px; border-radius:12px; border:1px solid rgba(27,94,32,0.25); background:#fff5fe; color:#123019; font-size: 1.08rem; transition: box-shadow .2s ease, transform .15s ease, border-color .2s ease; }
  .form-group select::placeholder, .form-group input[type="number"]::placeholder { color:#8fa5a0; }
  .form-group select:focus, .form-group input[type="number"]:focus { outline:none; border-color: rgba(255,126,64,0.6); box-shadow: 0 0 0 3px rgba(255,126,64,0.22); transform: translateY(-1px); }
  .form button[type="submit"] { grid-column:1/-1; justify-self:center; padding:15px 26px; margin-top:6px; border:none; border-radius:12px; background: linear-gradient(90deg,#ff7b00,#ff4e50); color:#ffffff; font-weight:900; letter-spacing:.2px; font-size:1.05rem; box-shadow: 0 10px 24px rgba(0,0,0,0.38); transition: transform .15s ease, filter .2s ease, box-shadow .2s ease; }
  .form button[type="submit"]:hover { filter: brightness(1.06); transform: translateY(-1px); box-shadow: 0 12px 26px rgba(0,0,0,0.45); }
  @media (max-width: 720px) { .form { grid-template-columns: 1fr; } .guide-container { margin: 24px 12px; padding: 22px; } }
  @keyframes fadeIn { from{opacity:0; transform: translateY(20px);} to{opacity:1; transform:none;} }
</style>

<div class="guide-container">
  <h2>{{ t['step_title'] }}</h2>
  <div class="guide-sub">üß≠ {{ t['guide_subtitle'] }}</div>
  <form class="form" action="{{ url_for('guide_result') }}" method="post">
    <div class="form-group">
      <label>{{ t['season'] }}
        <select name="season">
          {% if lang == "kn" %}
            <option value="Any">‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥á</option>
            <option value="Kharif">‡≤Æ‡≤≥‡≥Ü‡≤Ø‡≤ó‡≤æ‡≤≤</option>
            <option value="Rabi">‡≤ö‡≤≥‡≤ø‡≤ó‡≤æ‡≤≤</option>
            <option value="Zaid">‡≤¨‡≥á‡≤∏‡≤ø‡≤ó‡≥Ü</option>
          {% else %}
            <option value="Any">Any</option>
            <option value="Kharif">Rainy</option>
            <option value="Rabi">Winter</option>
            <option value="Zaid">Summer</option>
          {% endif %}
        </select>
      </label>
    </div>

    <div class="form-group">
      <label>{{ t['irrigation'] }}
        <select name="irrigation">
          {% if lang == "kn" %}
            <option value="Any">‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥á</option>
            <option value="Irrigated">‡≤®‡≥Ä‡≤∞‡≤æ‡≤µ‡≤∞‡≤ø</option>
            <option value="Rainfed">‡≤Æ‡≤≥‡≥Ü‡≤Ø‡≤æ‡≤ß‡≤æ‡≤∞‡≤ø‡≤§</option>
          {% else %}
            <option value="Any">Any</option>
            <option value="Irrigated">Irrigated</option>
            <option value="Rainfed">Rainfed</option>
          {% endif %}
        </select>
      </label>
    </div>

    <div class="form-group">
      <label>{{ t['soil_ph'] or "Soil pH (optional)" }}
        <input name="soil_ph" type="number" step="0.1" placeholder="e.g., 6.5">
      </label>
    </div>

    <div class="form-group">
      <label>{{ t['duration'] or "Duration preference" }}
        <select name="duration">
          {% if lang == "kn" %}
            <option value="Any">‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥á</option>
            <option value="Short">‡≤ï‡≤°‡≤ø‡≤Æ‡≥Ü ‡≤Ö‡≤µ‡≤ß‡≤ø</option>
            <option value="Medium">‡≤Æ‡≤ß‡≥ç‡≤Ø‡≤Æ ‡≤Ö‡≤µ‡≤ß‡≤ø</option>
            <option value="Long">‡≤¶‡≥Ä‡≤∞‡≥ç‡≤ò ‡≤Ö‡≤µ‡≤ß‡≤ø</option>
          {% else %}
            <option value="Any">Any</option>
            <option value="Short">Short</option>
            <option value="Medium">Medium</option>
            <option value="Long">Long</option>
          {% endif %}
        </select>
      </label>
    </div>

    <button type="submit">{{ t['search_btn'] }}</button>
  </form>
</div>
{% endblock %}
