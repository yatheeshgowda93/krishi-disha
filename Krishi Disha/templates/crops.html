{% extends "base.html" %}
{% block content %}
<style>
  body {
    background-image: url("{{ url_for('static', filename='images/pexels-freestockpro-1172241.jpg') }}");
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
  }
  body::before {
    content: "";
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.35));
    z-index: -1;
  }
  .crops-container {
    background: rgba(20, 24, 20, 0.6);
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);
    padding: 24px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    color: #e9f5ea;
    border: 1px solid rgba(255,255,255,0.14);
    animation: fadeIn 0.8s ease-out;
  }
  .crops-title { text-align:center; font-size:2.2rem; font-weight:900; color:#ffe0b2; margin:0 0 12px; text-shadow:0 2px 12px rgba(0,0,0,0.6); }
  .crops-sub { text-align:center; color:#f1f8e9; opacity:0.9; margin:-4px 0 16px; }
  .search { display:flex; gap:8px; margin: 0 0 12px; }
  .search input { flex:1; padding:12px; border-radius:10px; border:1px solid rgba(255,255,255,0.18); background: rgba(255,255,255,0.15); color:#fff; }
  .search button { padding:12px 16px; border-radius:10px; border:0; background: linear-gradient(90deg,#ff7b00,#ff4e50); color:#fff; font-weight:700; }
  .crops-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:16px; }
  .crops-grid .tile { background: linear-gradient(180deg, rgba(236,253,245,0.22), rgba(224,242,232,0.16)); color:#f5fff6; border:1px solid rgba(200,255,220,0.22); border-radius:16px; padding:14px; text-decoration:none; transition: transform .25s, box-shadow .25s, border-color .25s; box-shadow:0 4px 18px rgba(0,0,0,0.25); }
  .crops-grid .tile:hover { transform: translateY(-6px); box-shadow:0 10px 28px rgba(0,0,0,0.35); border-color: rgba(255,255,255,0.32); }
  .crops-grid .tile h3 { margin-top:0; font-weight:800; letter-spacing:.2px; }
  .crops-grid .tile p { color:#e6f5e7; }
  .crops-grid .tile b { color:#c8ffdd; }
  @keyframes fadeIn { from { opacity:0; transform: translateY(20px);} to {opacity:1; transform:none;} }
</style>

<div class="crops-container">
  <h2 class="crops-title">{{ t['crops'] }}</h2>
  <div class="crops-sub">üåæ {{ t['crops_subtitle'] }}</div>

  <form class="search" method="get">
    <input name="q" placeholder="{{ t['search_placeholder'] }}" value="{{ q or '' }}">
    <button type="submit">{{ t['search_btn'] }}</button>
  </form>

  <div class="crops-grid">
    {% for c in crops %}
    <a class="tile" href="{{ url_for('crop_detail', slug=c.slug) }}">
      <h3>{{ c.name_kn if lang == "kn" else c.name }}</h3>
      <p>üçÉ {{ ", ".join(c.seasons_kn) if lang == "kn" else ", ".join(c.seasons) }}</p>
      <p>‚è±Ô∏è {{ c.duration_days }} days ({{ c.duration_category_kn if lang == "kn" else c.duration_category }})</p>
    </a>
    {% else %}
    <p>{{ "‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥á ‡≤¨‡≥Ü‡≤≥‡≥Ü‡≤ó‡≤≥‡≥Å ‡≤ï‡≤Ç‡≤°‡≥Å‡≤¨‡≤Ç‡≤¶‡≤ø‡≤≤‡≥ç‡≤≤." if lang == "kn" else "No crops found." }}</p>
    {% endfor %}
  </div>
</div>
{% endblock %}

